{
  "version": 3,
  "sources": ["../../../app/routes/admin.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/admin.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/admin.tsx\");\n  import.meta.hot.lastModified = \"1755762071971.9812\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData, Outlet, useLocation, Link } from \"@remix-run/react\";\nimport { getOptionalSession } from \"~/lib/session.server\";\nimport { Frame, TopBar, Navigation, Layout, Page, Text, Card, Button } from \"@shopify/polaris\";\nimport { useState, useCallback } from \"react\";\n// import AppBridge from \"@shopify/app-bridge-react\";\n// const { Provider } = AppBridge;\n\nexport async function loader({\n  request\n}) {\n  const url = new URL(request.url);\n\n  // Try session token first (for embedded admin)\n  const sessionContext = await getOptionalSession(request);\n  if (sessionContext) {\n    // Embedded admin with session token\n    return json({\n      shop: sessionContext.shop,\n      host: url.searchParams.get(\"host\"),\n      appBridgeConfig: {\n        apiKey: process.env.SHOPIFY_API_KEY || \"\",\n        shop: sessionContext.shop,\n        host: url.searchParams.get(\"host\") || \"\"\n      }\n    });\n  }\n\n  // Fallback to query parameter (for development/testing)\n  const shop = url.searchParams.get(\"shop\");\n  const host = url.searchParams.get(\"host\");\n  if (!shop) {\n    throw new Response(\"Unauthorized - Missing session token or shop parameter\", {\n      status: 401\n    });\n  }\n  return json({\n    shop,\n    host,\n    appBridgeConfig: {\n      apiKey: process.env.SHOPIFY_API_KEY || \"\",\n      shop,\n      host: host || \"\"\n    }\n  });\n}\nexport default function AdminLayout() {\n  _s();\n  const {\n    shop\n  } = useLoaderData();\n  const location = useLocation();\n  const [mobileNavigationActive, setMobileNavigationActive] = useState(false);\n  const toggleMobileNavigationActive = useCallback(() => setMobileNavigationActive(mobileNavigationActive => !mobileNavigationActive), []);\n  const navigationMarkup = <Navigation location={location.pathname}>\n      <Navigation.Section items={[{\n      url: '/admin',\n      label: 'Overview',\n      icon: 'HomeIcon',\n      selected: location.pathname === '/admin'\n    }, {\n      url: '/admin/branding',\n      label: 'Branding',\n      icon: 'ColorIcon',\n      selected: location.pathname === '/admin/branding'\n    }]} />\n    </Navigation>;\n  const topBarMarkup = <TopBar showNavigationToggle onNavigationToggle={toggleMobileNavigationActive} />;\n  const currentPath = location.pathname;\n  const isOverview = currentPath === '/admin' || currentPath === '/admin/';\n  return <Frame topBar={topBarMarkup} navigation={navigationMarkup} showMobileNavigation={mobileNavigationActive} onNavigationDismiss={toggleMobileNavigationActive}>\n      {isOverview ? <Page title=\"TurnApp Overview\">\n          <Layout>\n            <Layout.Section>\n              <Card>\n                <div style={{\n              padding: '20px'\n            }}>\n                  <Text variant=\"headingMd\" as=\"h2\">Welcome to TurnApp</Text>\n                  <Text variant=\"bodyMd\" as=\"p\" tone=\"subdued\">\n                    Transform your Shopify store into a mobile shopping app\n                  </Text>\n                  <div style={{\n                marginTop: '20px'\n              }}>\n                    <Text variant=\"headingSm\" as=\"h3\">Shop: {shop}</Text>\n                  </div>\n                  <div style={{\n                marginTop: '20px'\n              }}>\n                    <Link to=\"/admin/branding\">\n                      <Button variant=\"primary\">Configure Branding</Button>\n                    </Link>\n                  </div>\n                </div>\n              </Card>\n            </Layout.Section>\n            \n            <Layout.Section variant=\"oneThird\">\n              <Card>\n                <div style={{\n              padding: '20px'\n            }}>\n                  <Text variant=\"headingSm\" as=\"h3\">Quick Stats</Text>\n                  <div style={{\n                marginTop: '12px'\n              }}>\n                    <Text variant=\"bodyMd\" as=\"p\">Status: Active</Text>\n                    <Text variant=\"bodyMd\" as=\"p\">App Version: 1.0.0</Text>\n                  </div>\n                </div>\n              </Card>\n            </Layout.Section>\n          </Layout>\n        </Page> : <Outlet />}\n    </Frame>;\n}\n_s(AdminLayout, \"N9XBbSrRALMepVlu7bCeVLiZ+UI=\", false, function () {\n  return [useLoaderData, useLocation];\n});\n_c = AdminLayout;\nvar _c;\n$RefreshReg$(_c, \"AdminLayout\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react", "mobileNavigationActive"]
}
